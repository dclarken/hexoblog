---
title: ALB应用程序负载均衡
date: 2017-10-1 00:08:12
tags: [笔记,AWS,负载均衡]
categories: [笔记,AWS]
comments: false
---

`介绍：`

应用程序负载均衡器Application Load Balancer是 Elastic Load Balancing 服务的一个负载均衡选项，在应用程序层运行，支持您在运行于一个或多个 Amazon Elastic Compute Cloud (Amazon EC2) 实例上的多个服务或容器之间基于内容定义路由规则。
负载均衡器收到请求后，会按照优先级顺序评估侦听器规则以确定应用哪个规则，然后使用轮询路由算法从目标组中选择一个目标以实施规则操作。可以配置侦听器规则，以根据应用程序流量的内容，将请求路由至不同的目标组。每个目标组的路由都是单独进行的，即使某个目标已在多个目标组中注册。
应用程序负载均衡器概述文档：
[文档资料地址](http://docs.aws.amazon.com/zh_cn/elasticloadbalancing/latest/application/introduction.html)

`组成部分：`

* 负载均衡器 充当客户端的单一接触点。可以向您的负载均衡器添加一个或多个侦听器。监听规则可以基于路径和基于主机的，例如，如果一个规则具有路径模式 /img/*，此规则会将 /img/picture.jpg 的请求转发给指定目标组，规则是具有主机模式*.example.com，此规则将*.example.com的请求转发给指定目标组。
* 侦听器 使用您配置的协议和端口检查来自客户端的连接请求，并根据您定义的规则将请求转发到一个或多个目标组。每个规则指定一个目标组、条件和优先级。满足条件时，流量会转发到目标组。您必须为每个侦听器定义一个默认规则，然后，您可以添加规则来根据请求内容指定不同目标组 (也称为基于内容的路由)。
* 每个目标组 使用您指定的协议和端口号将请求路由到一个或多个注册目标，例如 EC2 实例。您可以向多个目标组注册一个目标。您可以对每个目标组配置运行状况检查。在注册到目标组 (它是使用负载均衡器的侦听器规则指定的) 的所有目标上，执行运行状况检查。

`使用应用程序负载均衡器而不是传统负载均衡器具有以下优势：`

* 支持基于路径的路由。对于根据请求中的 URL 转发请求的侦听器，您可以为它配置规则。这让您可以将应用程序构造为较小的服务，并根据 URL 内容将请求路由到正确的服务。
通过使用多个端口注册实例，支持将请求路由到单个 EC2 实例上的多个服务。
* 支持容器化的应用程序。计划任务时，Amazon EC2 Container Service (Amazon ECS) 可以选择一个未使用的端口，并可以使用此端口向目标组注册该任务。这样可以高效地使用您的群集。
* 支持单独监控每个服务的运行状况，因为运行状况检查是在目标组级别定义的，并且许多 CloudWatch 指标是在目标组级别报告的。将目标组挂载到 Auto Scaling 组的功能使您能够根据需求动态扩展每个服务。
访问日志包含附加信息，并以压缩格式存储。已改进负载均衡器性能
